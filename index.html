<!DOCTYPE html>
<html lang="ar" dir="rtl" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>موسوعة الشينوبي</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 106'><g stroke='%23000' stroke-width='2.5' stroke-linejoin='round'><path fill='%23ef4444' d='M 2.5,50 A 47.5,47.5 0 1 1 97.5,50 C 75,65 25,65 2.5,50 Z' /><path fill='%23ffffff' d='M 2.5,50 C 2.5,80 25,95 43,95 V 103.5 H 57 V 95 C 75,95 97.5,80 97.5,50 C 75,65 25,65 2.5,50 Z' /></g></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
      :root {
        --bg-dark: #121212;
        --text-dark: #E2E8F0;
        --card-bg-dark: #1A1A1A;
        --border-dark: #2D3748;
        --accent-dark: #E53E3E;
        --accent-dark-hover: #C53030;

        /* Fandom-inspired background colors */
        --fandom-bg-dark: #210f2c;
        --fandom-bg-light: #7b194f;
        --fandom-dot-cyan: rgba(0, 255, 255, 0.4);
        --fandom-dot-gold: rgba(255, 215, 0, 0.7);
        --fandom-dot-pattern: rgba(255, 255, 255, 0.05);
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        font-family: 'Tajawal', 'Cairo', sans-serif;
        color: var(--text-dark);
        background-color: var(--fandom-bg-dark);
        background-image:
            /* Subtle dotted grid */
            radial-gradient(var(--fandom-dot-pattern) 1px, transparent 1px),
            /* Decorative dots */
            radial-gradient(circle at 5% 10%, var(--fandom-dot-cyan) 0px, transparent 3px),
            radial-gradient(circle at 95% 5%, var(--fandom-dot-gold) 0px, transparent 3px),
            radial-gradient(circle at 90% 95%, var(--fandom-dot-cyan) 0px, transparent 2px),
            /* Main gradient */
            radial-gradient(circle at 90% 10%, var(--fandom-bg-light), var(--fandom-bg-dark) 60%);
        background-size:
            15px 15px, /* Dotted grid size */
            100% 100%, /* The rest cover the full area */
            100% 100%,
            100% 100%,
            100% 100%;
        background-attachment: fixed;
        min-height: 100vh;
        transition: background-color 0.5s ease;
      }
      
      .themed-card {
        background-color: rgba(26, 26, 26, 0.8);
        border: 1px solid var(--border-dark);
        backdrop-filter: blur(4px);
        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        transition: all 0.3s ease-in-out;
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar { width: 10px; }
      ::-webkit-scrollbar-track { background: #1A1A1A; }
      ::-webkit-scrollbar-thumb { background: #E53E3E; border-radius: 10px; border: 2px solid #1A1A1A; }

      /* Animations */
      @keyframes animate-continuous-rotate {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
      .animate-continuous-rotate {
        animation: animate-continuous-rotate 20s linear infinite;
      }

      /* Kamui Dimensional Vortex Animation - Legendary Tier */
      .kamui-container.kamui-active .sharingan-svg {
        animation: kamui-vortex 2.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
      }
      
      .kamui-container::before,
      .kamui-container::after {
        content: '';
        position: absolute;
        inset: -25%;
        border-radius: 50%;
        border: 2px solid transparent;
        border-top-color: var(--accent-dark);
        opacity: 0;
        transform-origin: center;
        animation: none;
        z-index: 10;
        pointer-events: none;
      }
      
      .kamui-container.kamui-active::before {
        animation: vortex-lines 2.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
      }
      
      .kamui-container.kamui-active::after {
        animation: vortex-lines 2.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
        animation-delay: 0.1s;
        border-top-color: #ff8b8b;
      }
      
      @keyframes kamui-vortex {
        0% { transform: rotate(0) scale(1); filter: none; opacity: 1; }
        20% { transform: rotate(180deg) scale(1.1); filter: drop-shadow(0 0 10px var(--accent-dark)) brightness(1.5); opacity: 1; }
        50% { transform: rotate(1080deg) scale(0); filter: drop-shadow(0 0 15px var(--accent-dark-hover)) brightness(2.5) blur(6px); opacity: 0; }
        51% { opacity: 0; transform: rotate(1080deg) scale(0); }
        80% { transform: rotate(2100deg) scale(1.2); filter: drop-shadow(0 0 20px #ff8b8b) brightness(2); opacity: 1; }
        100% { transform: rotate(2160deg) scale(1); filter: none; opacity: 1; }
      }

      @keyframes vortex-lines {
        0% { transform: scale(2) rotate(0deg); opacity: 0; }
        20% { opacity: 1; }
        50% { transform: scale(0) rotate(720deg); opacity: 0.5; border-width: 3px; }
        51%, 100% { opacity: 0; }
      }
      
      /* === Original Theme Sidebar === */
      .sidebar-chakra {
        background-color: #1A1A1A; /* --card-bg-dark */
        border-left: 1px solid var(--border-dark);
      }

      .sidebar-chakra .site-title {
        color: var(--text-dark);
        text-shadow: none;
      }
      
      .sidebar-chakra nav a {
        color: var(--text-dark);
        transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
        border-radius: 8px;
        position: relative;
      }
      
      .sidebar-chakra nav a::before { content: none; }
      
      .sidebar-chakra nav a:hover {
        background-color: rgba(229, 62, 62, 0.1); /* accent color with alpha */
      }
      
      .sidebar-chakra nav a.active {
        color: var(--accent-dark);
        font-weight: bold;
        background-color: rgba(229, 62, 62, 0.15);
      }
      
      .sidebar-chakra nav a.active::after {
        content: '';
        position: absolute;
        top: 15%; right: 0;
        width: 4px; height: 70%;
        background-color: var(--accent-dark);
        border-radius: 4px;
        box-shadow: 0 0 8px var(--accent-dark);
      }

      .bottom-nav-chakra {
        background-color: #1A1A1A;
        border-top: 1px solid var(--border-dark);
      }
      .bottom-nav-chakra a {
        color: #9ca3af; /* Muted gray */
        position: relative;
      }
      .bottom-nav-chakra a.active {
        color: var(--accent-dark);
      }
      .bottom-nav-chakra a.active::after {
        content: '';
        position: absolute;
        top: 4px;
        left: 50%;
        transform: translateX(-50%);
        width: 6px;
        height: 6px;
        background-color: var(--accent-dark);
        border-radius: 50%;
        box-shadow: 0 0 6px var(--accent-dark);
      }
      

      /* === DORMANT PRO BUTTON === */
      @keyframes spin-gradient {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      @keyframes animate-title-border {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }
      .pro-button-dormant {
        background: #11051b; /* Dark purple base */
        border-color: #4a044e;
        position: relative;
        overflow: hidden;
      }
      .pro-button-dormant::before {
        content: '';
        position: absolute;
        inset: -2px;
        z-index: 0;
        background: conic-gradient(from 180deg at 50% 50%, #7e22ce, #be185d, #a855f7, #7e22ce);
        animation: spin-gradient 4s linear infinite;
        transition: opacity 0.3s;
      }
      .pro-button-dormant:hover::before {
        opacity: 1;
      }
      .pro-button-dormant::after {
          content: '';
          position: absolute;
          inset: 2px; /* same as border-width */
          background: #11051b;
          border-radius: 9999px; /* to match button's rounded-full */
          z-index: 1;
      }
      .pro-button-dormant .pro-button-content {
          position: relative;
          z-index: 2;
      }
      
      /* --- UNREAL PRO BUTTON --- */
      .pro-button-unreal {
        background: linear-gradient(120deg, #be185d, #7e22ce, #be185d);
        background-size: 200% 200%;
        animation: unreal-gradient 3s ease-in-out infinite;
        border-color: #a855f7;
      }

      @keyframes pro-icon-pulse {
        0%, 100% { filter: drop-shadow(0 0 8px #a855f7); transform: scale(1); }
        50% { filter: drop-shadow(0 0 20px #c084fc); transform: scale(1.05); }
      }

      .pro-icon-active {
        animation: pro-icon-pulse 5s ease-in-out infinite, spin 15s linear infinite;
      }

      @keyframes unreal-gradient {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }

      /* --- AKATSUKI PRO BUTTON --- */
      .pro-button-akatsuki {
        background: linear-gradient(120deg, #DC2626, #111827, #DC2626);
        background-size: 200% 200%;
        animation: akatsuki-gradient 4s ease-in-out infinite;
        border-color: #ef4444;
      }
      @keyframes akatsuki-gradient {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }


      /* Quiz Animations */
      @keyframes correct-answer-anim {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
      }

      @keyframes incorrect-answer-anim {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }

      /* === NEW: SMALLER HINT BUTTON === */
      .quiz-hint-container {
        position: relative;
        display: flex;
        justify-content: center;
        margin-bottom: -1.75rem; /* Pull progress bar up (half of button height) */
        z-index: 10;
      }
      .quiz-hint-button-bold {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 3.5rem; /* Smaller */
        height: 3.5rem; /* Smaller */
        background: radial-gradient(circle, #fef08a, #facc15);
        border: 3px solid #fefce8;
        border-radius: 9999px;
        color: #4a2e2e;
        backdrop-filter: blur(4px);
        box-shadow: 0 0 20px rgba(251, 191, 36, 0.6), 0 4px 10px rgba(0,0,0,0.3);
        transition: all 0.3s ease;
        animation: hint-pulse 3s infinite;
        position: relative;
      }
      .quiz-hint-button-bold:hover:not(:disabled) {
        transform: scale(1.1);
        animation-play-state: paused;
        box-shadow: 0 0 30px rgba(251, 191, 36, 0.8), 0 6px 15px rgba(0,0,0,0.3);
      }
      .quiz-hint-button-bold:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        filter: grayscale(80%);
        animation: none;
      }
      .quiz-hint-button-bold .w-10 { width: 2rem; } /* Adjust icon size */
      .quiz-hint-button-bold .h-10 { height: 2rem; } /* Adjust icon size */

      .hint-counter {
        position: absolute;
        top: -4px;
        right: -4px;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 1.75rem; /* Smaller */
        height: 1.75rem; /* Smaller */
        font-size: 0.9rem; /* Smaller */
        border-radius: 50%;
        background-color: #f87171;
        color: white;
        font-weight: 900;
        border: 2px solid white;
      }
      @keyframes hint-pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
      }

      @keyframes hint-reveal {
        from { opacity: 0; transform: translateY(10px) scale(0.95); }
        to { opacity: 1; transform: translateY(0) scale(1); }
      }
      .hint-chakra-aura {
        border: 1px solid rgba(251, 191, 36, 0.5);
        background: rgba(251, 191, 36, 0.1);
        padding: 1rem 1.5rem;
        border-radius: 0.75rem;
        box-shadow: 0 0 20px rgba(251, 191, 36, 0.3);
        animation: hint-reveal 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
      }


      /* Quiz Progress Bar */
      .quiz-progress-bar {
          background: rgba(10, 5, 15, 0.5);
          border: 2px solid #4a044e;
          box-shadow: inset 0 2px 4px rgba(0,0,0,0.4);
          padding: 4px;
          border-radius: 9999px;
          position: relative;
      }
      .quiz-progress-bar-inner {
          background: linear-gradient(90deg, #be185d, #a855f7);
          border-radius: 9999px;
          height: 100%;
          position: relative;
          overflow: hidden;
          transition: width 0.5s cubic-bezier(0.25, 1, 0.5, 1);
      }
      .quiz-progress-bar-inner::after {
          content: '';
          position: absolute;
          top: 0;
          right: 0;
          bottom: 0;
          width: 50%;
          background: linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.4) 50%, rgba(255,255,255,0) 100%);
          transform: skewX(-25deg);
          animation: progress-shine 2.5s infinite;
      }
      @keyframes progress-shine {
          from { left: -100%; }
          to { left: 150%; }
      }
      
      /* === CINEMATIC FADE IN === */
      @keyframes cinematic-fade-in {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      
      /* === NEW: SIX PATHS AWAKENING SCENE === */
      .awakening-scene-bg {
          position: fixed; inset: 0; z-index: 70;
          background-color: #000;
          display: flex; align-items: center; justify-content: center;
          overflow: hidden;
          perspective: 1000px;
      }
      .awakening-container {
        position: relative;
        width: 100%; height: 100%;
        display: flex; align-items: center; justify-content: center;
      }

      .truth-seeking-orb {
        width: 10vmin; height: 10vmin;
        background: #000; border-radius: 50%;
        box-shadow: 0 0 10px #000, inset 0 0 5px #222;
        animation: orb-appear 2s forwards;
      }
      @keyframes orb-appear {
          from { transform: scale(0); opacity: 0; }
          to { transform: scale(1); opacity: 1; }
      }

      .chakra-wisp {
        position: absolute;
        width: 10vmin; height: 10vmin;
        opacity: 0;
        cursor: pointer;
        animation: wisp-orbit 10s linear infinite, wisp-fade-in 1s forwards;
        transform: rotate(var(--angle)) translateY(-30vmin) rotate(-90deg);
        filter: blur(1vmin);
      }
      .chakra-wisp::before {
        content: ''; position: absolute; inset: 0;
        border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
        background: radial-gradient(circle, var(--wisp-color), transparent 70%);
        animation: wisp-morph 8s ease-in-out infinite alternate;
      }
      @keyframes wisp-fade-in { to { opacity: 0.8; } }
      @keyframes wisp-orbit { to { transform: rotate(calc(var(--angle) + 360deg)) translateY(-30vmin) rotate(-90deg); } }
      @keyframes wisp-morph { to { border-radius: 30% 70% 70% 30% / 30% 70% 30% 70%; } }
      .chakra-wisp.captured {
          animation: wisp-suck-in 0.8s ease-in forwards;
      }
      @keyframes wisp-suck-in {
          to { transform: rotate(var(--angle)) translateY(0) scale(0); opacity: 0; }
      }
      .awakening-prompt {
        position: absolute; bottom: 10%;
        color: #fff; font-size: 1.5rem; text-shadow: 0 0 10px #fff;
        opacity: 0; animation: cinematic-fade-in 1s 3s forwards;
      }

      .awakening-rinnegan-container {
        animation: rinnegan-unveil 4s forwards;
      }
      @keyframes rinnegan-unveil {
        0% { transform: scale(0); opacity: 0; }
        30% { transform: scale(1); opacity: 1; filter: drop-shadow(0 0 20px #c084fc); }
        70% { transform: scale(1.1); filter: drop-shadow(0 0 40px #c084fc) brightness(1.5); }
        100% { transform: scale(1); filter: none; }
      }
      .awakening-rinnegan {
        width: 30vmin; height: 30vmin;
      }

      .shakujo-staff {
        position: absolute;
        width: 2vmin; height: 80vmin;
        background: linear-gradient(to bottom, #fde047, #facc15, #4a2e2e, #4a2e2e);
        border-radius: 1vmin;
        opacity: 0;
        animation: staff-appear 2s 1s forwards;
        z-index: -1;
      }
       @keyframes staff-appear {
          from { opacity: 0; transform: translateY(100%); }
          to { opacity: 1; transform: translateY(0); }
      }

      .truth-seeking-orbs-container {
        position: absolute;
        width: 100%; height: 100%;
        display: flex; align-items: center; justify-content: center;
        animation: orbs-rotate 20s linear infinite;
      }
      @keyframes orbs-rotate {
          to { transform: rotate(360deg); }
      }
      .awakening-orb {
        position: absolute;
        width: 5vmin; height: 5vmin;
        background: #000;
        border-radius: 50%;
        animation: orb-fly-out 1s 0.5s ease-out forwards;
        transform: var(--transform-end);
      }
       @keyframes orb-fly-out {
          from { top: 50%; left: 50%; transform: translate(-50%, -50%); }
          to { top: 50%; left: 50%; transform: translate(-50%, -50%) var(--transform-end); }
      }

      .ascension-flash {
        position: absolute; inset: 0;
        background: white;
        opacity: 0;
        animation: flash-bang 1.5s ease-out forwards;
      }
      @keyframes flash-bang {
        0% { opacity: 1; }
        100% { opacity: 0; }
      }

      .awakening-aftermath {
        position: fixed; inset: 0;
        display: flex; align-items: center; justify-content: center;
        background: radial-gradient(circle, #fffbeb, #fefce8);
        opacity: 0;
        animation: aftermath-fade-in 1.5s forwards;
        z-index: 72;
      }
      @keyframes aftermath-fade-in { to { opacity: 1; } }

      .awakening-text {
        text-align: center;
        color: #ca8a04;
        opacity: 0;
        animation: text-glow-fade-in 2.5s forwards;
      }
      @keyframes text-glow-fade-in {
        from { opacity: 0; transform: translateY(10px); text-shadow: 0 0 20px #fef08a; }
        to { opacity: 1; transform: translateY(0); text-shadow: 0 0 5px #fef08a; }
      }
      
      /* === INFINITE TSUKUYOMI FAILURE SCENE === */
      .tsukuyomi-failure-scene {
        position: absolute; inset: 0; z-index: 100;
        display: flex; flex-col; align-items: center; justify-content: center;
        background-color: #000;
        overflow: hidden;
        animation: cinematic-fade-in 1s;
      }

      .tsukuyomi-moon {
        position: absolute;
        left: 50%;
        width: 150vmax; height: 150vmax;
        background: radial-gradient(circle, #dc2626 5%, #b91c1c 20%, #7f1d1d 40%, #450a0a 70%);
        border-radius: 50%;
        transform: translate(-50%, 100%);
        animation: moon-rise 6s ease-out forwards;
        display: flex; align-items: center; justify-content: center;
      }
      @keyframes moon-rise {
        to { transform: translate(-50%, 40%); }
      }

      .rinne-sharingan-overlay {
        width: 100%; height: 100%;
        color: #111;
        opacity: 0.5;
        animation: animate-continuous-rotate 60s linear infinite;
      }

      .tsukuyomi-text-container {
        position: relative;
        text-align: center;
        opacity: 0;
        animation: dream-text-appear 2s 3s forwards;
        z-index: 110;
      }
      @keyframes dream-text-appear {
        to { opacity: 1; }
      }

      .tsukuyomi-text {
        font-family: 'Cairo', sans-serif;
        color: #fecaca;
        text-shadow: 0 0 10px #ef4444, 0 0 20px #dc2626, 0 0 30px #dc2626;
        animation: text-waver 5s ease-in-out infinite;
      }
      @keyframes text-waver {
        0%, 100% { transform: skewX(-2deg); filter: blur(0.5px); }
        50% { transform: skewX(2deg); filter: blur(1px); }
      }

      .quiz-modal-container.is-failing > *:not(.tsukuyomi-failure-scene) {
        animation: quiz-gets-trapped 2s 1s forwards;
      }
      @keyframes quiz-gets-trapped {
        0% { filter: none; opacity: 1; transform: scale(1); }
        50% { filter: blur(2px) grayscale(0.5); transform: scale(0.98); }
        100% { filter: blur(8px) grayscale(1); opacity: 0; transform: scale(0.9); }
      }
      
      /* NEW: QUIZ BACKGROUND SHARINGAN & RINNEGAN */
      @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
      .quiz-bg-sharingan {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 100vmin;
        height: 100vmin;
        transform: translate(-50%, -50%);
        color: #e53e3e;
        opacity: 0;
        filter: drop-shadow(0 0 20px var(--accent-dark-hover));
        animation: quiz-sharingan-awaken 10s ease-in-out infinite;
      }

      @keyframes quiz-sharingan-awaken {
        0%, 100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8) rotate(-90deg); }
        20%, 80% { opacity: 0.3; transform: translate(-50%, -50%) scale(1) rotate(0deg); }
        50% { opacity: 0.4; transform: translate(-50%, -50%) scale(1.05) rotate(90deg); }
      }
      
      .rotating-rinnegan-bg {
          animation: spin 25s linear infinite;
      }
      .rotating-rinnegan-bg circle:nth-of-type(3) {
          transform-origin: center;
          animation: spin 8s linear infinite reverse;
      }
      .rotating-rinnegan-bg circle:nth-of-type(4) {
          transform-origin: center;
          animation: spin 12s linear infinite;
      }
      .rotating-rinnegan-bg circle:nth-of-type(5) {
          transform-origin: center;
          animation: spin 6s linear infinite reverse;
      }


      /* ===== AKATSUKI THEME (Revamped) ===== */
      @keyframes sky-flow {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }
      
      body.theme-akatsuki {
        background-color: #110101;
        background-image: 
          radial-gradient(ellipse at 50% 100%, rgba(185, 28, 28, 0.4) 0%, transparent 60%),
          linear-gradient(175deg, #000 0%, #110101 30%, #450a0a 100%);
        background-size: 200% 200%;
        animation: sky-flow 25s ease-in-out infinite;
      }

      body.theme-akatsuki ::-webkit-scrollbar-track { background: #111; }
      body.theme-akatsuki ::-webkit-scrollbar-thumb { background: #DC2626; border: 2px solid #111; border-radius: 10px; }
      
      /* Navigation */
      body.theme-akatsuki .sidebar-chakra, body.theme-akatsuki .bottom-nav-chakra {
        background: rgba(0,0,0,0.7);
        backdrop-filter: blur(8px);
        border-color: #450a0a;
      }
      body.theme-akatsuki nav a {
        color: #e5e7eb !important;
      }
       body.theme-akatsuki .sidebar-chakra nav a:hover {
        background-color: rgba(220, 38, 38, 0.2) !important;
      }
      body.theme-akatsuki .sidebar-chakra nav a.active {
        color: #fca5a5 !important;
        font-weight: bold;
        background-color: rgba(220, 38, 38, 0.25) !important;
      }
      body.theme-akatsuki .sidebar-chakra nav a.active::after {
         content: "";
         background-color: #DC2626 !important;
         box-shadow: 0 0 8px #DC2626 !important;
         /* Resetting inherited properties that created the tomoe */
         width: 4px;
         height: 70%;
         background-image: none;
         animation: none;
      }

       body.theme-akatsuki .bottom-nav-chakra a.active {
        color: #DC2626 !important;
      }
      body.theme-akatsuki .bottom-nav-chakra a.active::after {
        background-color: #DC2626 !important;
        box-shadow: 0 0 6px #DC2626 !important;
      }
      body.theme-akatsuki .site-title {
        color: #fca5a5;
        text-shadow: 0 0 8px rgba(239, 68, 68, 0.7);
      }

      /* Themed Cards */
      body.theme-akatsuki .themed-card {
        background-color: rgba(12, 10, 9, 0.85);
        border: 2px solid #3f3f46;
        border-radius: 0.5rem;
      }
      body.theme-akatsuki .themed-card:hover {
        box-shadow: 0 0 20px rgba(239, 68, 68, 0.6);
        border-color: #ef4444;
      }

      /* Search Bar Override */
      body.theme-akatsuki .akatsuki-search-bar {
        background-color: #111827 !important;
        border-color: #ef4444 !important;
      }
      body.theme-akatsuki .akatsuki-search-bar input { color: #fca5a5; }
      body.theme-akatsuki .akatsuki-search-bar input::placeholder { color: #b91c1c; opacity: 1; }
      body.theme-akatsuki .akatsuki-search-bar-icon-bg { background-color: #ef4444 !important; }
      body.theme-akatsuki .akatsuki-search-bar-icon-stroke { stroke: #111827 !important; }
      body.theme-akatsuki .akatsuki-search-dropdown {
        background-color: #18181b !important;
        border-color: #450a0a !important;
      }
      body.theme-akatsuki .akatsuki-search-dropdown a:hover { background-color: rgba(220, 38, 38, 0.3) !important; }
      body.theme-akatsuki .akatsuki-search-dropdown h4 { color: #fca5a5; }
      
      /* === SECRET CODE INPUT (Ancient Scroll Theme) === */
      .secret-code-modal-bg {
        position: fixed; inset: 0;
        background: rgba(0, 0, 0, 0.85);
        backdrop-filter: blur(5px);
        z-index: 100;
        animation: cinematic-fade-in 0.3s ease-out;
      }
      .secret-code-container {
        position: relative;
        background-color: rgba(12, 10, 9, 0.95);
        border: 2px solid #450a0a;
        border-radius: 1rem;
        padding: 2rem;
        box-shadow: 0 0 40px rgba(220, 38, 38, 0.4);
        animation: cinematic-fade-in 0.5s 0.1s ease-out backwards;
      }
      .secret-code-display {
        background: #000;
        border: 2px solid #7f1d1d;
        border-radius: 0.5rem;
        padding: 1rem;
        text-align: center;
        font-size: 2rem;
        font-family: 'Cairo', monospace;
        letter-spacing: 0.2em;
        color: #fca5a5;
        height: 70px;
        margin-bottom: 1.5rem;
        box-shadow: inset 0 0 10px rgba(239, 68, 68, 0.5);
        text-shadow: 0 0 5px rgba(239, 68, 68, 0.7);
        transition: all 0.3s ease;
      }
      .secret-code-keypad {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 0.75rem;
      }
      .keypad-button {
        background: linear-gradient(145deg, #27272a, #18181b);
        border: 1px solid #3f3f46;
        border-radius: 0.5rem;
        font-size: 1.75rem;
        font-weight: bold;
        color: #d4d4d8;
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: 0 4px 6px rgba(0,0,0,0.4);
      }
      .keypad-button:hover:not(:disabled) {
        background: #450a0a;
        border-color: #ef4444;
        transform: translateY(-2px);
        box-shadow: 0 0 15px rgba(239, 68, 68, 0.6), 0 6px 10px rgba(0,0,0,0.3);
        color: #fecaca;
      }
       .keypad-button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      /* Animations for code status */
      @keyframes secret-code-success-anim {
          50% { 
            box-shadow: 0 0 20px #22c55e, inset 0 0 10px #22c55e;
            border-color: #4ade80;
            text-shadow: 0 0 8px #4ade80;
         }
      }
      .secret-code-success .secret-code-display {
        animation: secret-code-success-anim 1s ease-in-out;
        color: #bbf7d0;
        border-color: #22c55e;
      }

      @keyframes secret-code-failure-anim {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
        20%, 40%, 60%, 80% { transform: translateX(8px); }
      }
      .secret-code-failure {
        animation: secret-code-failure-anim 0.5s ease-in-out;
      }
      .secret-code-failure .secret-code-display {
        border-color: #ef4444;
        box-shadow: inset 0 0 10px rgba(239, 68, 68, 0.5);
      }
      
      /* === BATTLE ARENA: SUMMONING SCROLL === */
      .challenger-display {
        animation: cinematic-fade-in 1s ease-out;
      }
      .opponent-selection-scroll {
        background-color: #f3e9d2; /* Scroll paper color */
        color: #4a2e2e; /* Ink color */
        border: 8px solid;
        border-image: linear-gradient(to bottom, #6b4f4f, #a9876a) 1; /* Wood-like border */
        box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        border-radius: 4px;
        animation: cinematic-fade-in 1s 0.2s ease-out backwards;
      }
      .opponent-search-input {
        background-color: transparent;
        border: none;
        border-bottom: 2px solid rgba(74, 46, 46, 0.5); /* Ink line */
        border-radius: 0;
        text-align: center;
        font-size: 1.25rem;
        font-family: 'Cairo', sans-serif;
        font-weight: bold;
        color: #4a2e2e;
        transition: border-color 0.3s ease;
      }
      .opponent-search-input::placeholder { color: rgba(74, 46, 46, 0.6); }
      .opponent-search-input:focus { outline: none; border-bottom-color: #4a2e2e; }
      
      .opponent-card {
        border-radius: 50%;
        position: relative;
        cursor: pointer;
      }
      .opponent-card::before { /* The seal itself */
        content: '';
        position: absolute;
        inset: 0;
        border: 3px solid rgba(74, 46, 46, 0.3);
        border-radius: 50%;
        background: rgba(74, 46, 46, 0.05);
        transition: all 0.3s cubic-bezier(0.22, 1, 0.36, 1);
      }
      .opponent-card:hover::before {
        border-color: #ef4444;
        background: rgba(239, 68, 68, 0.1);
        transform: scale(1.05);
        box-shadow: 0 0 20px rgba(239, 68, 68, 0.7);
      }
      .opponent-card .text-5xl { /* Emoji */
          transition: transform 0.3s ease;
          position: relative;
          z-index: 1;
      }
      .opponent-card:hover .text-5xl { transform: scale(1.1); }
      .opponent-card-name {
        color: #4a2e2e;
        opacity: 0.9;
        font-weight: bold;
        position: relative;
        z-index: 1;
      }

      /* === BATTLE ARENA STYLES (LEGENDARY SHOWDOWN) === */
      @keyframes kyubi-chakra-glow {
        0%, 100% { filter: drop-shadow(0 0 15px #f97316); }
        50% { filter: drop-shadow(0 0 25px #fb923c); }
      }
      @keyframes susanoo-chakra-glow {
        0%, 100% { filter: drop-shadow(0 0 15px #8b5cf6); }
        50% { filter: drop-shadow(0 0 25px #a78bfa); }
      }
      .kyubi-aura { animation: kyubi-chakra-glow 3s ease-in-out infinite; }
      .susanoo-aura { animation: susanoo-chakra-glow 3s ease-in-out infinite; }
      
      @keyframes battle-intro-left {
        from { opacity: 0; transform: translateX(-50vw) scale(0.5); }
        to { opacity: 1; transform: translateX(0) scale(1); }
      }
      @keyframes battle-intro-right {
        from { opacity: 0; transform: translateX(50vw) scale(0.5); }
        to { opacity: 1; transform: translateX(0) scale(1); }
      }
      .battle-fighter-enter-left { animation: battle-intro-left 1s cubic-bezier(0.22, 1, 0.36, 1) forwards; }
      .battle-fighter-enter-right { animation: battle-intro-right 1s cubic-bezier(0.22, 1, 0.36, 1) forwards; }
      
      @keyframes chakra-clash-vs {
        0% { opacity: 0; transform: scale(8) rotate(-180deg); filter: blur(30px); }
        50% { opacity: 1; transform: scale(1) rotate(0deg); filter: blur(0); }
        100% { opacity: 0; transform: scale(1.5); filter: blur(10px); }
      }
      @keyframes chakra-clash-shockwave {
        0% { opacity: 0; transform: scale(0.2); }
        50% { opacity: 0.5; }
        100% { opacity: 0; transform: scale(3); }
      }

      .chakra-clash-container {
          animation: chakra-clash-vs 3s cubic-bezier(0.22, 1, 0.36, 1) 0.5s forwards;
      }
      .chakra-clash-shockwave {
          animation: chakra-clash-shockwave 3s cubic-bezier(0.22, 1, 0.36, 1) 0.5s forwards;
      }

      @keyframes winner-glow-strong {
        0%, 100% { box-shadow: 0 0 30px #facc15, 0 0 50px #facc15, 0 0 70px #f59e0b; }
        50% { box-shadow: 0 0 40px #fde047, 0 0 65px #fde047, 0 0 90px #fbbf24; }
      }
      .winner-glow-strong {
        animation: winner-glow-strong 3s ease-in-out infinite;
      }

      @keyframes loser-disintegrate {
        0% { opacity: 1; filter: saturate(1); transform: scale(1); }
        50% { opacity: 0.8; filter: saturate(0); }
        100% { opacity: 0; filter: saturate(0) blur(10px); transform: scale(0.9); }
      }
      .loser-disintegrate {
        animation: loser-disintegrate 2s 0.5s ease-in forwards;
      }

      /* === DETAIL VIEW EXIT BUTTON === */
      @keyframes fire-lightning-glow {
        0%, 100% {
          box-shadow: 0 0 15px rgba(251, 191, 36, 0.6), 0 0 5px rgba(139, 92, 246, 0.8) inset;
        }
        50% {
          box-shadow: 0 0 25px rgba(251, 191, 36, 0.8), 0 0 8px rgba(139, 92, 246, 1) inset;
        }
      }

      .detail-exit-button {
        position: absolute;
        top: 1.5rem;
        right: 1.5rem;
        z-index: 20;
        width: 3rem;
        height: 3rem;
        border-radius: 9999px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #f59e0b, #ef4444, #8b5cf6);
        border: 2px solid rgba(255, 255, 255, 0.4);
        color: white;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        animation: fire-lightning-glow 4s ease-in-out infinite;
        cursor: pointer;
      }

      .detail-exit-button:hover {
        transform: scale(1.1) rotate(90deg);
      }
      
      /* === NEW: LEGENDARY FOOTER (SCROLL THEME) === */
      .legendary-footer {
        position: relative;
        padding: 2rem 1rem;
        margin-top: 4rem;
        background-color: #2a1a1f; /* Dark wood color */
        border-top: 6px solid #4a2e2e;
        border-bottom: 6px solid #4a2e2e;
        box-shadow: 0 -5px 15px rgba(0,0,0,0.4), 0 5px 15px rgba(0,0,0,0.4), inset 0 0 10px rgba(0,0,0,0.5);
      }
      .footer-scroll-content {
        background-color: #f3e9d2; /* Scroll paper */
        color: #4a2e2e; /* Ink color */
        padding: 2rem;
        border: 1px solid #c8bdae;
        box-shadow: inset 0 0 15px rgba(0,0,0,0.2);
        position: relative;
      }
      .footer-separator {
        width: 60%;
        height: 2px;
        background: linear-gradient(to right, transparent, #8a6d4e, transparent);
        margin: 1.5rem auto;
      }
      .footer-content h4 {
        font-family: 'Cairo', sans-serif;
        font-size: 1.5rem;
        font-weight: 900;
        color: #4a2e2e;
      }
      .footer-content p {
        margin-top: 0.25rem;
        font-size: 0.9rem;
        color: #6b4f4f;
      }
      .technique-icon-grid {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-top: 1.5rem;
      }
      .technique-icon-wrapper {
        width: 2.5rem;
        height: 2.5rem;
        padding: 0.5rem;
        background: rgba(74, 46, 46, 0.1);
        border-radius: 50%;
        border: 1px solid rgba(74, 46, 46, 0.2);
        transition: all 0.3s ease;
      }
      .technique-icon-wrapper:hover {
        background: rgba(74, 46, 46, 0.2);
        transform: scale(1.1);
      }
      
      /* Akatsuki Footer Theme */
      body.theme-akatsuki .legendary-footer {
        background-color: #1f1f1f;
        border-color: #7f1d1d;
        box-shadow: 0 -5px 15px rgba(0,0,0,0.4), 0 5px 15px rgba(0,0,0,0.4), inset 0 0 10px #7f1d1d;
      }
      body.theme-akatsuki .footer-scroll-content {
        background-color: #270a0a;
        color: #fecaca;
        border-color: #450a0a;
      }
      body.theme-akatsuki .footer-content h4 { color: #fca5a5; }
      body.theme-akatsuki .footer-content p { color: #fda4af; }
      body.theme-akatsuki .footer-separator { background: linear-gradient(to right, transparent, #ef4444, transparent); }
      body.theme-akatsuki .technique-icon-wrapper {
        background: rgba(239, 68, 68, 0.1);
        border-color: rgba(239, 68, 68, 0.3);
      }
      body.theme-akatsuki .technique-icon-wrapper:hover { background: rgba(239, 68, 68, 0.2); }
      

      /* === NEW: FULL SCREEN SCROLL DETAIL VIEW === */
      @keyframes scroll-unfurl {
        from {
          opacity: 0;
          transform: scale(0.8) translateY(20px);
          filter: blur(10px);
        }
        to {
          opacity: 1;
          transform: scale(1) translateY(0);
          filter: blur(0);
        }
      }
      .scroll-view-container {
        position: fixed;
        inset: 0;
        z-index: 60;
        background: rgba(10, 5, 15, 0.8);
        backdrop-filter: blur(8px);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 1rem;
        animation: cinematic-fade-in 0.5s ease-out;
        overflow: hidden;
      }

      .scroll-view-content {
        position: relative;
        width: 100%;
        max-width: 900px;
        height: 90vh;
        max-height: 700px;
        background: #f3e9d2; /* Default scroll color */
        color: #4a2e2e;
        border: 8px solid;
        border-image: linear-gradient(to bottom, #6b4f4f, #a9876a) 1;
        box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        border-radius: 4px;
        animation: scroll-unfurl 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        display: flex;
        overflow: hidden;
        z-index: 1;
        transition: background-color 0.4s ease;
      }
      
      /* Detail View Theming */
      .scroll-view-content.theme-characters { background-color: #fde8e8; } /* Light Red */
      .scroll-view-content.theme-arcs { background-color: #e0f2fe; } /* Light Blue */
      .scroll-view-content.theme-eyes { background-color: #f3e8ff; } /* Light Purple */
      .scroll-view-content.theme-clans { background-color: #f1f5f9; } /* Light Gray */

      body.theme-akatsuki .scroll-view-content {
          background-color: #270a0a;
          color: #fecaca;
          border-image: linear-gradient(to bottom, #7f1d1d, #b91c1c) 1;
      }
       body.theme-akatsuki .scroll-view-content h1 { color: #fca5a5; }
       body.theme-akatsuki .scroll-view-content blockquote { border-color: #ef4444; color: #fecaca; }
       body.theme-akatsuki .scroll-view-content .scroll-ink-divider { background: linear-gradient(to right, transparent, #b91c1c, transparent); }
       body.theme-akatsuki .scroll-view-content .list-disc li { color: #fecaca; }
       body.theme-akatsuki .scroll-view-content .px-3.py-1 { background-color: rgba(239, 68, 68, 0.2); color: #fca5a5; }
       body.theme-akatsuki .scroll-view-content .w-full.bg-black\/10 { background: rgba(0,0,0,0.3); }


      .scroll-view-content-inner {
        padding: 2rem 2.5rem;
        overflow-y: auto;
        flex-grow: 1;
      }
      /* Custom scrollbar for the scroll view */
      .scroll-view-content-inner::-webkit-scrollbar { width: 12px; }
      .scroll-view-content-inner::-webkit-scrollbar-track { background: #d1c4a8; }
      .scroll-view-content-inner::-webkit-scrollbar-thumb { background: #8a6d4e; border-radius: 10px; border: 3px solid #d1c4a8; }
       body.theme-akatsuki .scroll-view-content-inner::-webkit-scrollbar-track { background: #111; }
       body.theme-akatsuki .scroll-view-content-inner::-webkit-scrollbar-thumb { background: #ef4444; border-color: #111; }

      .scroll-ink-divider {
        width: 50%;
        height: 2px;
        background: linear-gradient(to right, transparent, #4a2e2e, transparent);
        margin: 1.5rem auto;
        opacity: 0.6;
      }
      
      /* === HOMEPAGE INTRO === */
        .quick-look-section {
            animation: cinematic-fade-in 1s 0.5s backwards;
        }
        .quick-look-card {
            background-color: rgba(26, 26, 26, 0.5);
            border: 1px solid var(--border-dark);
            backdrop-filter: blur(4px);
            transition: all 0.3s ease-in-out;
            position: relative;
            overflow: hidden;
        }
        .quick-look-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
            border-color: #a855f7;
        }
        .quick-look-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at top right, rgba(168, 85, 247, 0.3), transparent 50%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        .quick-look-card:hover::before {
            opacity: 1;
        }
        body.theme-akatsuki .quick-look-card:hover {
            border-color: #ef4444;
        }
         body.theme-akatsuki .quick-look-card::before {
            background: radial-gradient(circle at top right, rgba(239, 68, 68, 0.4), transparent 50%);
        }

    </style>
  <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.1.1/",
    "react": "https://aistudiocdn.com/react@^19.1.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/",
    "@heroicons/react/": "https://aistudiocdn.com/@heroicons/react@^2.2.0/",
    "react-router-dom": "https://aistudiocdn.com/react-router-dom@^7.8.2",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^0.15.0"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>
    <script type="module" src="./index.js"></script>
  </body>
</html>