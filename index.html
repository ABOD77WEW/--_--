<!DOCTYPE html>
<html lang="ar" dir="rtl" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>موسوعة الشينوبي</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><defs><radialGradient id='a' cx='50%25' cy='50%25' r='50%25'><stop offset='0%25' stop-color='%23ff1f1f'/><stop offset='100%25' stop-color='%23a00000'/></radialGradient></defs><circle cx='50' cy='50' r='48' fill='%23111'/><circle cx='50' cy='50' r='45' fill='url(%23a)'/><circle cx='50' cy='50' r='20' fill='%23000'/><circle cx='50' cy='50' r='22' stroke='%233b0202' stroke-width='1.5' fill='none'/><g transform='rotate(0 50 50)'><path d='M 50,28.5 C 61,33 63,44 57.5,47 A 10,10 0 1 1 50,28.5 Z' fill='%230a0a0a'/></g><g transform='rotate(120 50 50)'><path d='M 50,28.5 C 61,33 63,44 57.5,47 A 10,10 0 1 1 50,28.5 Z' fill='%230a0a0a'/></g><g transform='rotate(240 50 50)'><path d='M 50,28.5 C 61,33 63,44 57.5,47 A 10,10 0 1 1 50,28.5 Z' fill='%230a0a0a'/></g></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
      :root {
        --bg-dark: #121212;
        --text-dark: #E2E8F0;
        --card-bg-dark: #1A1A1A;
        --border-dark: #2D3748;
        --accent-dark: #E53E3E;
        --accent-dark-hover: #C53030;

        /* Fandom-inspired background colors */
        --fandom-bg-dark: #210f2c;
        --fandom-bg-light: #7b194f;
        --fandom-dot-cyan: rgba(0, 255, 255, 0.4);
        --fandom-dot-gold: rgba(255, 215, 0, 0.7);
        --fandom-dot-pattern: rgba(255, 255, 255, 0.05);
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        font-family: 'Tajawal', 'Cairo', sans-serif;
        color: var(--text-dark);
        background-color: var(--fandom-bg-dark);
        background-image:
            /* Subtle dotted grid */
            radial-gradient(var(--fandom-dot-pattern) 1px, transparent 1px),
            /* Decorative dots */
            radial-gradient(circle at 5% 10%, var(--fandom-dot-cyan) 0px, transparent 3px),
            radial-gradient(circle at 95% 5%, var(--fandom-dot-gold) 0px, transparent 3px),
            radial-gradient(circle at 90% 95%, var(--fandom-dot-cyan) 0px, transparent 2px),
            /* Main gradient */
            radial-gradient(circle at 90% 10%, var(--fandom-bg-light), var(--fandom-bg-dark) 60%);
        background-size:
            15px 15px, /* Dotted grid size */
            100% 100%, /* The rest cover the full area */
            100% 100%,
            100% 100%,
            100% 100%;
        background-attachment: fixed;
        min-height: 100vh;
        transition: background-color 0.5s ease;
      }
      
      .themed-card {
        background-color: rgba(26, 26, 26, 0.8);
        border: 1px solid var(--border-dark);
        backdrop-filter: blur(4px);
        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        transition: all 0.3s ease-in-out;
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar { width: 10px; }
      ::-webkit-scrollbar-track { background: #1A1A1A; }
      ::-webkit-scrollbar-thumb { background: #E53E3E; border-radius: 10px; border: 2px solid #1A1A1A; }

      /* Animations */
      @keyframes animate-continuous-rotate {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
      .animate-continuous-rotate {
        animation: animate-continuous-rotate 20s linear infinite;
      }

      /* Kamui Dimensional Vortex Animation - Legendary Tier */
      .kamui-container.kamui-active .sharingan-svg {
        animation: kamui-vortex 2.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
      }
      
      .kamui-container::before,
      .kamui-container::after {
        content: '';
        position: absolute;
        inset: -25%;
        border-radius: 50%;
        border: 2px solid transparent;
        border-top-color: var(--accent-dark);
        opacity: 0;
        transform-origin: center;
        animation: none;
        z-index: 10;
        pointer-events: none;
      }
      
      .kamui-container.kamui-active::before {
        animation: vortex-lines 2.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
      }
      
      .kamui-container.kamui-active::after {
        animation: vortex-lines 2.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
        animation-delay: 0.1s;
        border-top-color: #ff8b8b;
      }
      
      @keyframes kamui-vortex {
        0% { transform: rotate(0) scale(1); filter: none; opacity: 1; }
        20% { transform: rotate(180deg) scale(1.1); filter: drop-shadow(0 0 10px var(--accent-dark)) brightness(1.5); opacity: 1; }
        50% { transform: rotate(1080deg) scale(0); filter: drop-shadow(0 0 15px var(--accent-dark-hover)) brightness(2.5) blur(6px); opacity: 0; }
        51% { opacity: 0; transform: rotate(1080deg) scale(0); }
        80% { transform: rotate(2100deg) scale(1.2); filter: drop-shadow(0 0 20px #ff8b8b) brightness(2); opacity: 1; }
        100% { transform: rotate(2160deg) scale(1); filter: none; opacity: 1; }
      }

      @keyframes vortex-lines {
        0% { transform: scale(2) rotate(0deg); opacity: 0; }
        20% { opacity: 1; }
        50% { transform: scale(0) rotate(720deg); opacity: 0.5; border-width: 3px; }
        51%, 100% { opacity: 0; }
      }
      
      /* === NEW CHAKRA FLOW SIDEBAR === */
      @keyframes chakra-background-flow {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }
      
      .sidebar-chakra {
        background: linear-gradient(200deg, #1a1a2e, #16213e, #0f3460, #1a1a2e);
        background-size: 300% 300%;
        animation: chakra-background-flow 25s ease-in-out infinite;
        border-left-color: #4a044e;
      }

      .sidebar-chakra .site-title {
        color: #e0d8ff;
        text-shadow: 0 0 10px rgba(0, 245, 212, 0.7), 0 0 20px rgba(0, 245, 212, 0.5);
      }
      
      .sidebar-chakra nav a {
        color: #e0d8ff;
        position: relative;
        z-index: 1;
        overflow: hidden;
      }
      
      .sidebar-chakra nav a::before {
        content: '';
        position: absolute;
        top: 0; right: 0;
        width: 100%; height: 100%;
        background-color: rgba(0, 245, 212, 0.15);
        border-radius: 8px;
        transform: translateX(101%);
        transition: transform 0.3s cubic-bezier(0.25, 1, 0.5, 1);
        z-index: -1;
      }
      
      .sidebar-chakra nav a:hover::before, .sidebar-chakra nav a.active::before {
        transform: translateX(0);
      }
      
      .sidebar-chakra nav a.active {
        color: #00f5d4;
        font-weight: bold;
      }

      .sidebar-chakra nav a.active::before {
        background-color: rgba(0, 245, 212, 0.2);
      }
      
      .sidebar-chakra nav a.active::after {
        content: '';
        position: absolute;
        top: 15%; right: 0;
        width: 4px; height: 70%;
        background-color: #00f5d4;
        border-radius: 4px;
        box-shadow: 0 0 8px #00f5d4;
      }

      .sidebar-chakra nav a > * {
        position: relative;
        z-index: 2;
      }

      .bottom-nav-chakra {
        background-color: #1a1a2e;
        border-top-color: #4a044e;
      }
      .bottom-nav-chakra a {
        color: #9a8cbf; /* Muted lavender */
        position: relative;
      }
      .bottom-nav-chakra a.active {
        color: #00f5d4;
      }
      .bottom-nav-chakra a.active::after {
        content: '';
        position: absolute;
        top: 4px;
        left: 50%;
        transform: translateX(-50%);
        width: 6px;
        height: 6px;
        background-color: #00f5d4;
        border-radius: 50%;
        box-shadow: 0 0 6px #00f5d4;
      }
      

      /* === DORMANT PRO BUTTON === */
      @keyframes spin-gradient {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      @keyframes animate-title-border {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }
      .pro-button-dormant {
        background: #11051b; /* Dark purple base */
        border-color: #4a044e;
        position: relative;
        overflow: hidden;
      }
      .pro-button-dormant::before {
        content: '';
        position: absolute;
        inset: -2px;
        z-index: 0;
        background: conic-gradient(from 180deg at 50% 50%, #7e22ce, #be185d, #a855f7, #7e22ce);
        animation: spin-gradient 4s linear infinite;
        transition: opacity 0.3s;
      }
      .pro-button-dormant:hover::before {
        opacity: 1;
      }
      .pro-button-dormant::after {
          content: '';
          position: absolute;
          inset: 2px; /* same as border-width */
          background: #11051b;
          border-radius: 9999px; /* to match button's rounded-full */
          z-index: 1;
      }
      .pro-button-dormant .pro-button-content {
          position: relative;
          z-index: 2;
      }
      
      /* --- UNREAL PRO BUTTON --- */
      .pro-button-unreal {
        background: linear-gradient(120deg, #be185d, #7e22ce, #be185d);
        background-size: 200% 200%;
        animation: unreal-gradient 3s ease-in-out infinite;
        border-color: #a855f7;
      }

      @keyframes pro-icon-pulse {
        0%, 100% { filter: drop-shadow(0 0 8px #a855f7); transform: scale(1); }
        50% { filter: drop-shadow(0 0 20px #c084fc); transform: scale(1.05); }
      }

      .pro-icon-active {
        animation: pro-icon-pulse 5s ease-in-out infinite, spin 15s linear infinite;
      }

      @keyframes unreal-gradient {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }

      /* --- AKATSUKI PRO BUTTON --- */
      .pro-button-akatsuki {
        background: linear-gradient(120deg, #DC2626, #111827, #DC2626);
        background-size: 200% 200%;
        animation: akatsuki-gradient 4s ease-in-out infinite;
        border-color: #ef4444;
      }
      @keyframes akatsuki-gradient {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }


      /* Quiz Animations */
      @keyframes correct-answer-anim {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
      }

      @keyframes incorrect-answer-anim {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }

      /* Quiz Hint Style */
      @keyframes chakra-flow {
          0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.6; }
          50% { transform: translate(-50%, -50%) scale(1.1); opacity: 0.9; }
      }
      .hint-chakra-aura {
        position: relative;
        border: 1px solid rgba(251, 191, 36, 0.5);
        background: rgba(251, 191, 36, 0.1);
        padding: 1rem 1.5rem;
        border-radius: 0.75rem;
        box-shadow: 0 0 20px rgba(251, 191, 36, 0.3);
        animation: cinematic-fade-in 0.5s;
      }
      .hint-chakra-aura::before {
        content: '';
        position: absolute;
        inset: -2px;
        border-radius: 0.85rem; /* slightly larger than parent */
        background: radial-gradient(circle, rgba(251, 191, 36, 0.4) 0%, transparent 70%);
        animation: chakra-flow 5s ease-in-out infinite;
        z-index: -1;
      }

      /* Quiz Progress Bar */
      .quiz-progress-bar {
          background: rgba(10, 5, 15, 0.5);
          border: 2px solid #4a044e;
          box-shadow: inset 0 2px 4px rgba(0,0,0,0.4);
          padding: 4px;
          border-radius: 9999px;
      }
      .quiz-progress-bar-inner {
          background: linear-gradient(90deg, #be185d, #a855f7);
          border-radius: 9999px;
          height: 100%;
          position: relative;
          overflow: hidden;
          transition: width 0.5s cubic-bezier(0.25, 1, 0.5, 1);
      }
      .quiz-progress-bar-inner::after {
          content: '';
          position: absolute;
          top: 0;
          right: 0;
          bottom: 0;
          width: 50%;
          background: linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.4) 50%, rgba(255,255,255,0) 100%);
          transform: skewX(-25deg);
          animation: progress-shine 2.5s infinite;
      }
      @keyframes progress-shine {
          from { left: -100%; }
          to { left: 150%; }
      }
      
      /* === CINEMATIC FADE IN === */
      @keyframes cinematic-fade-in {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      
      /* === NEW: SAGE OF SIX PATHS AWAKENING SCENE === */
      .awakening-scene-bg {
        position: fixed; inset: 0; z-index: 70;
        background-color: #000;
        display: flex; align-items: center; justify-content: center;
        overflow: hidden;
        animation: cinematic-fade-in 0.5s;
      }

      .awakening-container {
        position: relative;
        width: 50vmin;
        height: 50vmin;
      }
      .awakening-container * { transition: all 0.3s ease-out; }

      .truth-seeking-orb {
        position: absolute;
        top: 50%; left: 50%;
        width: 5vmin; height: 5vmin;
        background: white;
        border-radius: 50%;
        transform: translate(-50%, -50%) scale(0);
        box-shadow: 0 0 10px white, 0 0 20px white, 0 0 40px #a78bfa;
        animation: orb-appear 1.5s forwards, orb-pulse 4s 1.5s infinite ease-in-out;
      }
      @keyframes orb-appear { to { transform: translate(-50%, -50%) scale(1); } }
      @keyframes orb-pulse {
        50% { box-shadow: 0 0 15px white, 0 0 30px #c4b5fd, 0 0 60px #a78bfa; transform: translate(-50%, -50%) scale(1.1); }
      }

      .chakra-wisp {
        position: absolute;
        top: 50%; left: 50%;
        width: 2px;
        height: 150px;
        background: linear-gradient(to top, transparent, var(--wisp-color), transparent);
        transform-origin: top center;
        opacity: 0;
        animation: chakra-flow-in 2s ease-out forwards;
        transition: transform 0.2s ease-out, opacity 0.2s ease-out;
      }
      .chakra-wisp.interactive:not(.captured) {
          cursor: pointer;
      }
      .chakra-wisp.interactive:not(.captured):hover {
          transform: scale(1.5) rotate(var(--angle)) !important;
          filter: brightness(2);
      }
      .chakra-wisp.captured {
          transform: scale(0) !important;
          opacity: 0 !important;
      }
      @keyframes chakra-flow-in {
        from { transform: rotate(var(--angle)) translateY(-100vh) scaleY(2); opacity: 0; }
        50% { opacity: 1; }
        to { transform: rotate(var(--angle)) translateY(-2.5vmin) scaleY(0); opacity: 0; }
      }
      
      .awakening-rinnegan-container {
        position: absolute; inset: 0;
        opacity: 0;
        transform: scale(0.2);
        animation: rinnegan-unveil 2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
      }
      @keyframes rinnegan-unveil {
        to { opacity: 1; transform: scale(1); }
      }

      .awakening-rinnegan {
        width: 100%; height: 100%;
        color: #a78bfa;
        filter: drop-shadow(0 0 15px #c4b5fd) drop-shadow(0 0 30px #c4b5fd);
        animation: animate-continuous-rotate 40s linear infinite;
      }

      .shakujo-staff {
        position: absolute;
        top: -20%; left: 50%;
        width: 2vmin; height: 140%;
        background: linear-gradient(90deg, #3730a3, #e0e7ff, #3730a3);
        border-radius: 2vmin;
        transform: translateX(-50%) scaleY(0);
        transform-origin: center;
        box-shadow: 0 0 15px #a78bfa;
        animation: staff-materialize 1.5s cubic-bezier(0.83, 0, 0.17, 1) forwards;
      }
      @keyframes staff-materialize { to { transform: translateX(-50%) scaleY(1); } }
      
      .truth-seeking-orbs-container {
        position: absolute; inset: 0;
        animation: animate-continuous-rotate 25s linear infinite reverse;
      }
      .awakening-orb {
        position: absolute;
        top: 50%; left: 50%;
        margin: -3vmin;
        width: 6vmin; height: 6vmin;
        background: #111;
        border: 2px solid #444;
        border-radius: 50%;
        box-shadow: inset 0 0 10px #000;
        transform-origin: center;
        opacity: 0;
        animation: orb-fly-out 1s ease-out forwards;
      }
      @keyframes orb-fly-out {
        to { transform: var(--transform-end); opacity: 1; }
      }
      
      .ascension-flash {
        position: fixed; inset: 0;
        background: white;
        opacity: 0;
        animation: ascension-flash-anim 1.5s ease-out forwards;
        z-index: 75;
      }
      @keyframes ascension-flash-anim {
        50% { opacity: 1; }
        100% { opacity: 0; }
      }

      .awakening-aftermath {
        position: fixed; inset: 0;
        display: flex; align-items: center; justify-content: center;
        background: radial-gradient(circle, #fffbeb, #fefce8);
        opacity: 0;
        animation: aftermath-fade-in 1.5s forwards;
        z-index: 72;
      }
      @keyframes aftermath-fade-in { to { opacity: 1; } }

      .awakening-text {
        text-align: center;
        color: #ca8a04;
        opacity: 0;
        animation: text-glow-fade-in 2.5s forwards;
      }
      @keyframes text-glow-fade-in {
        from { opacity: 0; transform: translateY(10px); text-shadow: 0 0 20px #fef08a; }
        to { opacity: 1; transform: translateY(0); text-shadow: 0 0 5px #fef08a; }
      }

      .awakening-prompt {
        position: absolute;
        bottom: 5vh;
        left: 50%;
        transform: translateX(-50%);
        color: white;
        font-size: 1.2rem;
        background: rgba(0,0,0,0.5);
        padding: 0.5rem 1rem;
        border-radius: 8px;
        opacity: 0;
        animation: prompt-fade-in-out 6s 1s ease-in-out;
        pointer-events: none;
      }
      @keyframes prompt-fade-in-out {
        0%, 100% { opacity: 0; }
        20%, 80% { opacity: 1; }
      }
      
      /* === NEW: INFINITE TSUKUYOMI FAILURE SCENE === */
      .tsukuyomi-failure-scene {
        position: absolute; inset: 0; z-index: 100;
        display: flex; flex-col; align-items: center; justify-content: center;
        background-color: #000;
        overflow: hidden;
        animation: cinematic-fade-in 1s;
      }

      .tsukuyomi-moon {
        position: absolute;
        left: 50%;
        width: 150vmax; height: 150vmax;
        background: radial-gradient(circle, #dc2626 5%, #b91c1c 20%, #7f1d1d 40%, #450a0a 70%);
        border-radius: 50%;
        transform: translate(-50%, 100%);
        animation: moon-rise 6s ease-out forwards;
        display: flex; align-items: center; justify-content: center;
      }
      @keyframes moon-rise {
        to { transform: translate(-50%, 40%); }
      }

      .rinne-sharingan-overlay {
        width: 100%; height: 100%;
        color: #111;
        opacity: 0.5;
        animation: animate-continuous-rotate 60s linear infinite;
      }

      .tsukuyomi-text-container {
        position: relative;
        text-align: center;
        opacity: 0;
        animation: dream-text-appear 2s 3s forwards;
        z-index: 110;
      }
      @keyframes dream-text-appear {
        to { opacity: 1; }
      }

      .tsukuyomi-text {
        font-family: 'Cairo', sans-serif;
        color: #fecaca;
        text-shadow: 0 0 10px #ef4444, 0 0 20px #dc2626, 0 0 30px #dc2626;
        animation: text-waver 5s ease-in-out infinite;
      }
      @keyframes text-waver {
        0%, 100% { transform: skewX(-2deg); filter: blur(0.5px); }
        50% { transform: skewX(2deg); filter: blur(1px); }
      }

      .quiz-modal-container.is-failing > *:not(.tsukuyomi-failure-scene) {
        animation: quiz-gets-trapped 2s 1s forwards;
      }
      @keyframes quiz-gets-trapped {
        0% { filter: none; opacity: 1; transform: scale(1); }
        50% { filter: blur(2px) grayscale(0.5); transform: scale(0.98); }
        100% { filter: blur(8px) grayscale(1); opacity: 0; transform: scale(0.9); }
      }
      
      /* NEW: QUIZ BACKGROUND SHARINGAN */
      .quiz-bg-sharingan {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 100vmin;
        height: 100vmin;
        transform: translate(-50%, -50%);
        color: #e53e3e;
        opacity: 0;
        filter: drop-shadow(0 0 20px var(--accent-dark-hover)) blur(2px);
        animation: quiz-sharingan-awaken 10s ease-in-out infinite;
      }

      @keyframes quiz-sharingan-awaken {
        0%, 100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8) rotate(-90deg); }
        20%, 80% { opacity: 0.1; transform: translate(-50%, -50%) scale(1) rotate(0deg); }
        50% { opacity: 0.15; transform: translate(-50%, -50%) scale(1.05) rotate(90deg); }
      }


      /* ===== AKATSUKI THEME ===== */
      @keyframes animate-clouds {
          0% { background-position: 0 0; }
          100% { background-position: -600px 0; }
      }
      
      body.theme-akatsuki {
        background-color: #0c0a09; /* even darker */
        background-image: 
          url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 60" width="150" height="100"><path d="M 86 30 C 82 14, 66 11, 57 17 C 48 9, 33 14, 29 24 C 20 20, 7 27, 6 38 C -5 47, 7 55, 16 51 C 18 57, 31 56, 37 51 C 43 57, 56 58, 62 52 C 75 56, 89 47, 86 30 Z" fill="rgba(255,255,255,0.03)"/></svg>'),
          radial-gradient(circle at 100% 0%, #7f1d1d, transparent 50%);
        background-repeat: repeat, no-repeat;
        background-size: 300px, 100% 100%;
        animation: animate-clouds 40s linear infinite;
      }

      body.theme-akatsuki ::-webkit-scrollbar-track { background: #111; }
      body.theme-akatsuki ::-webkit-scrollbar-thumb { background: #DC2626; border: 2px solid #111; border-radius: 10px; }
      
      /* Navigation */
      body.theme-akatsuki .sidebar-chakra, body.theme-akatsuki .bottom-nav-chakra {
        background: #0c0a09;
        border-color: #450a0a;
        animation: none; /* Turn off chakra flow animation */
      }
      body.theme-akatsuki nav a {
        color: #e5e7eb !important;
      }
       body.theme-akatsuki nav a::before {
        background-color: rgba(220, 38, 38, 0.2) !important;
      }
      body.theme-akatsuki nav a:hover {
        color: #fca5a5 !important;
      }
      body.theme-akatsuki .sidebar-chakra nav a.active {
        color: #fca5a5 !important;
      }
      body.theme-akatsuki .sidebar-chakra nav a.active::after {
         background-color: #DC2626 !important;
         box-shadow: 0 0 8px #DC2626 !important;
      }

       body.theme-akatsuki .bottom-nav-chakra a.active {
        color: #DC2626 !important;
      }
      body.theme-akatsuki .bottom-nav-chakra a.active::after {
        background-color: #DC2626 !important;
        box-shadow: 0 0 6px #DC2626 !important;
      }
      body.theme-akatsuki .site-title {
        color: #fca5a5;
        text-shadow: 0 0 8px rgba(239, 68, 68, 0.7);
      }

      /* Character Card Ring */
      .akatsuki-chakra-ring {
          position: absolute;
          inset: 0.5rem;
          border-radius: 9999px;
          padding: 2px;
          background: conic-gradient(from 0deg, #DC2626, #111827, #DC2626);
          animation: spin-gradient 4s linear infinite;
      }
      .akatsuki-chakra-ring::before {
          content: '';
          position: absolute;
          inset: 2px;
          background: #18181b;
          border-radius: 9999px;
      }

      /* Themed Cards */
      body.theme-akatsuki .themed-card {
        background-color: rgba(24, 24, 27, 0.8);
        border-color: #450a0a;
        border-radius: 1.5rem 0.5rem;
      }
      body.theme-akatsuki .themed-card:hover {
        border-color: #DC2626;
        box-shadow: 0 10px 15px -3px rgba(220, 38, 38, 0.3), 0 4px 6px -2px rgba(220, 38, 38, 0.2);
      }

      /* Search Bar Override */
      body.theme-akatsuki .akatsuki-search-bar {
        background-color: #111827 !important;
        border-color: #ef4444 !important;
      }
      body.theme-akatsuki .akatsuki-search-bar input { color: #fca5a5; }
      body.theme-akatsuki .akatsuki-search-bar input::placeholder { color: #b91c1c; opacity: 1; }
      body.theme-akatsuki .akatsuki-search-bar-icon-bg { background-color: #ef4444 !important; }
      body.theme-akatsuki .akatsuki-search-bar-icon-stroke { stroke: #111827 !important; }
      body.theme-akatsuki .akatsuki-search-dropdown {
        background-color: #18181b !important;
        border-color: #450a0a !important;
      }
      body.theme-akatsuki .akatsuki-search-dropdown a:hover { background-color: rgba(220, 38, 38, 0.3) !important; }
      body.theme-akatsuki .akatsuki-search-dropdown h4 { color: #fca5a5; }
      
      /* === SECRET CODE INPUT === */
      .secret-code-modal-bg {
        position: absolute;
        inset: 0;
        background: rgba(10, 5, 15, 0.8);
        backdrop-filter: blur(8px);
        z-index: 10;
        animation: cinematic-fade-in 0.3s ease-out;
      }
      .secret-code-container {
        position: relative;
        background: linear-gradient(145deg, #1f102b, #110818);
        border: 2px solid #4a044e;
        border-radius: 1rem;
        padding: 2rem;
        box-shadow: 0 0 30px rgba(126, 34, 206, 0.5);
        animation: cinematic-fade-in 0.5s 0.1s ease-out backwards;
      }
      .secret-code-input {
        background: #11051b;
        border: 2px solid #7e22ce;
        color: #e9d5ff;
        text-align: center;
        font-size: 2rem;
        letter-spacing: 0.5em;
        font-family: 'Cairo', monospace;
      }
      .secret-code-input::placeholder {
        color: #581c87;
        letter-spacing: normal;
      }
      .secret-code-input:focus {
        outline: none;
        box-shadow: 0 0 15px #a855f7;
      }

      /* Animations for code status */
      @keyframes secret-code-success {
        0% { box-shadow: 0 0 15px #a855f7; }
        50% { box-shadow: 0 0 30px #22c55e, 0 0 10px #22c55e inset; border-color: #4ade80; }
        100% { box-shadow: 0 0 15px #a855f7; }
      }
      .secret-code-success .secret-code-input {
        animation: secret-code-success 1s ease-in-out;
      }

      @keyframes secret-code-failure {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
        20%, 40%, 60%, 80% { transform: translateX(8px); }
      }
      .secret-code-failure {
        animation: secret-code-failure 0.5s ease-in-out;
      }
      .secret-code-failure .secret-code-input {
        border-color: #ef4444;
        box-shadow: 0 0 15px #ef4444;
      }
      
      /* --- BATTLE ARENA STYLES --- */
      @keyframes kyubi-chakra-glow {
        0%, 100% { box-shadow: 0 0 20px #f97316, 0 0 40px #f97316, 0 0 60px #ef4444; filter: drop-shadow(0 0 15px #f97316); }
        50% { box-shadow: 0 0 30px #fb923c, 0 0 50px #fb923c, 0 0 80px #f87171; filter: drop-shadow(0 0 25px #fb923c); }
      }
      @keyframes susanoo-chakra-glow {
        0%, 100% { box-shadow: 0 0 20px #8b5cf6, 0 0 40px #8b5cf6, 0 0 60px #4f46e5; filter: drop-shadow(0 0 15px #8b5cf6); }
        50% { box-shadow: 0 0 30px #a78bfa, 0 0 50px #a78bfa, 0 0 80px #6366f1; filter: drop-shadow(0 0 25px #a78bfa); }
      }
      .kyubi-aura {
        animation: kyubi-chakra-glow 3s ease-in-out infinite;
      }
      .susanoo-aura {
        animation: susanoo-chakra-glow 3s ease-in-out infinite;
      }
      @keyframes battle-intro-left-fighter {
        from { opacity: 0; transform: translateX(-100vw) rotate(-30deg) scale(0.8); }
        to { opacity: 1; transform: translateX(0) rotate(0deg) scale(1); }
      }
      @keyframes battle-intro-right-fighter {
        from { opacity: 0; transform: translateX(100vw) rotate(30deg) scale(0.8); }
        to { opacity: 1; transform: translateX(0) rotate(0deg) scale(1); }
      }
      .battle-fighter-enter-left {
        animation: battle-intro-left-fighter 1.2s cubic-bezier(0.22, 1, 0.36, 1) forwards;
      }
      .battle-fighter-enter-right {
        animation: battle-intro-right-fighter 1.2s cubic-bezier(0.22, 1, 0.36, 1) forwards;
      }
      @keyframes loser-shake-and-fade {
        0% { transform: scale(1); filter: grayscale(0) brightness(1); }
        10%, 30% { transform: scale(1) translateX(-5px) rotate(-2deg); }
        20%, 40% { transform: scale(1) translateX(5px) rotate(2deg); }
        50% { transform: scale(0.95); filter: grayscale(1) brightness(0.4); }
        100% { transform: scale(0.95); filter: grayscale(1) brightness(0.4); }
      }
      .loser-dim {
        animation: loser-shake-and-fade 1.5s ease-in-out forwards;
      }
       @keyframes winner-glow {
        0% { box-shadow: 0 0 20px #facc15, 0 0 30px #facc15, 0 0 40px #f59e0b; }
        50% { box-shadow: 0 0 30px #fde047, 0 0 45px #fde047, 0 0 60px #fbbf24; }
        100% { box-shadow: 0 0 20px #facc15, 0 0 30px #facc15, 0 0 40px #f59e0b; }
      }
      @keyframes vs-intro {
        from { opacity: 0; transform: scale(5) rotate(-90deg); filter: blur(20px); }
        to { opacity: 1; transform: scale(1) rotate(0deg); filter: blur(0); }
      }
       .battle-report-scroll {
        max-height: 0;
        opacity: 0;
        overflow: hidden;
        transition: max-height 1s ease-in-out 0.5s, opacity 0.5s ease-in-out 0.5s;
        background: #f3e9d2;
        color: #4a2e2e;
        border: 8px solid;
        border-image: linear-gradient(to bottom, #6b4f4f, #a9876a) 1;
        box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        padding: 1rem 0;
      }
      .battle-report-scroll.unfurl {
        max-height: 500px;
        opacity: 1;
      }
      .battle-report-scroll h2 {
        font-family: 'Cairo', sans-serif;
        color: #4a2e2e;
      }
      .battle-report-scroll .comparison-stat-grid {
        border-color: rgba(74, 46, 46, 0.3);
      }
      .battle-report-scroll .comparison-stat-grid .label {
         color: rgba(74, 46, 46, 0.8);
      }
       .battle-report-scroll .comparison-stat-grid .winner-text {
        color: #b45309; /* Darker amber for better readability */
      }

      /* === DETAIL VIEW EXIT BUTTON === */
      @keyframes fire-lightning-glow {
        0%, 100% {
          box-shadow: 0 0 15px rgba(251, 191, 36, 0.6), 0 0 5px rgba(139, 92, 246, 0.8) inset;
        }
        50% {
          box-shadow: 0 0 25px rgba(251, 191, 36, 0.8), 0 0 8px rgba(139, 92, 246, 1) inset;
        }
      }

      .detail-exit-button {
        position: absolute;
        top: 1.5rem;
        right: 1.5rem;
        z-index: 20;
        width: 3rem;
        height: 3rem;
        border-radius: 9999px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #f59e0b, #ef4444, #8b5cf6);
        border: 2px solid rgba(255, 255, 255, 0.4);
        color: white;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        animation: fire-lightning-glow 4s ease-in-out infinite;
        cursor: pointer;
      }

      .detail-exit-button:hover {
        transform: scale(1.1) rotate(90deg);
      }

      /* === PRO BUTTONS SCROLL BEHAVIOR === */
      .pro-buttons-wrapper {
        transition: transform 0.4s cubic-bezier(0.22, 1, 0.36, 1);
      }
      .pro-buttons-wrapper.hidden {
        transform: translateY(-150%);
      }
       .pro-buttons-wrapper-bottom {
        transition: transform 0.4s cubic-bezier(0.22, 1, 0.36, 1);
      }
      .pro-buttons-wrapper-bottom.hidden {
        transform: translateY(150%);
      }
      
      /* === NEW: LEGENDARY FOOTER === */
      @keyframes footer-separator-glow {
        from { opacity: 0.7; box-shadow: 0 0 10px #ef4444, 0 0 20px #fde047; }
        to { opacity: 1; box-shadow: 0 0 15px #ef4444, 0 0 30px #fde047; }
      }
      @keyframes footer-text-glow {
        from {
          text-shadow: 0 0 4px rgba(253, 224, 71, 0.7), 0 0 12px rgba(251, 191, 36, 0.5), 0 0 25px rgba(239, 68, 68, 0.4);
        }
        to {
          text-shadow: 0 0 6px rgba(253, 224, 71, 0.9), 0 0 18px rgba(251, 191, 36, 0.7), 0 0 40px rgba(239, 68, 68, 0.6), 0 0 60px rgba(185, 28, 28, 0.4);
        }
      }
      .legendary-footer {
        position: relative;
        padding: 4rem 2rem 3rem;
        text-align: center;
        margin-top: 4rem;
        background: transparent;
      }
      .legendary-footer::before {
        content: '';
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 80%;
        max-width: 600px;
        height: 2px;
        background: linear-gradient(to right, transparent, #ef4444, #fde047, #ef4444, transparent);
        box-shadow: 0 0 10px #ef4444, 0 0 20px #fde047;
        animation: footer-separator-glow 5s infinite alternate;
      }
      .footer-content {
        position: relative;
        z-index: 1;
      }
      .footer-content h4 {
        font-family: 'Cairo', sans-serif;
        font-size: 2rem;
        font-weight: 900;
        color: #fef08a;
        animation: footer-text-glow 4s infinite alternate;
      }
      .footer-content p {
        margin-top: 0.5rem;
        font-size: 1rem;
        color: #cbd5e1;
        letter-spacing: 0.1em;
      }

    </style>
  <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.1.1/",
    "react": "https://aistudiocdn.com/react@^19.1.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/",
    "@heroicons/react/": "https://aistudiocdn.com/@heroicons/react@^2.2.0/",
    "react-router-dom": "https://aistudiocdn.com/react-router-dom@^7.8.2",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^0.15.0"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>
    <script type="module" src="./index.js"></script>
  </body>
</html>